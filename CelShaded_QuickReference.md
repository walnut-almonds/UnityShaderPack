# CelShaded Advanced - å¿«é€Ÿåƒè€ƒæŒ‡å—

## ğŸ¨ æœ€å¸¸ç”¨åƒæ•¸é€ŸæŸ¥

### åŸºç¤å¤–è§€
```
é™°å½±éŠ³åˆ©åº¦: _ShadowSharpness (0.9-1.0 = ç¡¬é‚Š, 0.0-0.5 = æŸ”é‚Š)
é™°å½±é¡è‰²: _ShadowColor (é€šå¸¸ 0.5-0.8 ç°åº¦)
é™°å½±å±¤æ•¸: _ShadowSteps (2 = ç¶“å…¸, 3+ = å¤šå±¤)
```

### è¼ªå»“ç·š
```
å¯¬åº¦: _OutlineWidth (0.002-0.006 å¸¸ç”¨ç¯„åœ)
é¡è‰²: _OutlineColor (é»‘è‰²æˆ–æ·±è‰²)
```

### é«˜å…‰
```
å¼·åº¦: _SpecularStrength (0.5-1.0)
éŠ³åˆ©åº¦: _SpecularSharpness (0.8-1.0 = å‹•ç•«é¢¨æ ¼)
å…‰æ¾¤åº¦: _SpecularGloss (0.8-0.9)
```

### Rim Light
```
å†ªæ¬¡: _RimPower (2-4 å¸¸ç”¨)
å¼·åº¦: _RimStrength (0.5-1.0)
```

---

## ğŸ”§ å¸¸è¦‹å•é¡Œå¿«é€Ÿè§£æ±º

| å•é¡Œ | è§£æ±ºæ–¹æ¡ˆ |
|------|---------|
| é™°å½±å¤ªç¡¬ | é™ä½ Shadow Sharpness |
| é™°å½±å¤ªè»Ÿ | æé«˜ Shadow Sharpness |
| æ²’æœ‰é™°å½± | æª¢æŸ¥å ´æ™¯å…‰æºï¼Œæé«˜ Shadow Strength |
| è¼ªå»“ç·šæ–·è£‚ | èª¿æ•´ Outline Z Offset |
| é¡è‰²éäº® | é™ä½ Max Brightness |
| é¡è‰²å¤ªæš— | æé«˜ Min Brightness æˆ– Ambient Light Influence |
| é«˜å…‰ä¸æ˜é¡¯ | æé«˜ Specular Strength å’Œ Sharpness |
| è²¼åœ–æ¨¡ç³Š | æª¢æŸ¥è²¼åœ–å°å…¥è¨­å®šå’Œ Filter Mode |

---

## ğŸ“Š æ€§èƒ½ç­‰ç´šè¨­å®š

### ğŸŸ¢ è¼•é‡ç´š (ç§»å‹•ç«¯)
- ä¸»è²¼åœ–: 1 å±¤
- é™°å½±: 2 éš
- MatCap: 0-1 å€‹
- æ³•ç·šè²¼åœ–: 0-1 å€‹
- ç‰¹æ•ˆ: é—œé–‰ SSS, Dissolve, Halftone

### ğŸŸ¡ ä¸­ç­‰ (PC/ä¸»æ©Ÿ)
- ä¸»è²¼åœ–: 2 å±¤
- é™°å½±: 2-3 éš
- MatCap: 1-2 å€‹
- æ³•ç·šè²¼åœ–: 1-2 å€‹
- ç‰¹æ•ˆ: åŸºç¤ Rim Light, é«˜å…‰

### ğŸ”´ é«˜å“è³ª (é«˜ç«¯ PC)
- ä¸»è²¼åœ–: 3 å±¤
- é™°å½±: 3 éš
- MatCap: 2-3 å€‹
- æ³•ç·šè²¼åœ–: 3 å€‹
- ç‰¹æ•ˆ: å…¨é–‹

---

## ğŸ­ é¢¨æ ¼é€Ÿé…è¡¨

| é¢¨æ ¼ | é™°å½±éšæ•¸ | éŠ³åˆ©åº¦ | è¼ªå»“ç·š | é£½å’Œåº¦ |
|------|---------|--------|--------|--------|
| å‹•ç•« | 2 | 0.9-1.0 | 0.004 | 1.0-1.2 |
| æ’ç•« | 3 | 0.3-0.5 | 0.001 | 1.2-1.5 |
| æ¼«ç•« | 2 | 1.0 | 0.006 | 0.8-1.0 |
| éŠæˆ² | 2-3 | 0.7-0.9 | 0.003 | 1.0-1.3 |

---

## âš¡ Unity ç·¨è¼¯å™¨å…§å·¥å…·

### èœå–®ä½ç½®
```
Tools â†’ CelShaded Advanced â†’ Create Material Presets
```

### é è¨­æè³ªåˆ—è¡¨
1. Classic Anime Style
2. Metallic Cel-Shaded
3. Glowing Energy
4. Soft Illustration Style
5. Comic Book Style
6. Gem/Crystal
7. Skin with SSS

---

## ğŸ”— è²¼åœ–é€šé“èªªæ˜

### å¸¸ç”¨è²¼åœ–æ ¼å¼
- **ä¸»è²¼åœ– (Main Tex)**: RGB = é¡è‰², A = é€æ˜åº¦
- **é™°å½±è²¼åœ– (Shadow Map)**: R = é™°å½±å¼·åº¦
- **ç™¼å…‰è²¼åœ– (Emission)**: RGB = ç™¼å…‰é¡è‰²
- **ç™¼å…‰é®ç½© (Emission Mask)**: R = ç™¼å…‰å€åŸŸ
- **é«˜å…‰è²¼åœ– (Specular Map)**: R = é«˜å…‰å¼·åº¦
- **MatCap é®ç½©**: R = MatCap å½±éŸ¿å€åŸŸ
- **é‡‘å±¬ç²—ç³™åº¦**: R = Metallic, G = Roughness
- **äº®ç‰‡é®ç½© (Glitter Mask)**: RGB = é¡è‰²é®ç½©
- **è¼ªå»“ç·šé®ç½© (Outline Mask)**: RGB = è¼ªå»“ç·šé¡è‰²

---

## ğŸ’¡ å°ˆæ¥­æŠ€å·§

### 1. å‰µé€ æ¼¸è®Šé™°å½±
```
ä½¿ç”¨ Shadow Map è²¼åœ–ç¹ªè£½æ¼¸è®Š
Shadow Sharpness è¨­ç‚º 0.5
```

### 2. å¤šè‰²è¼ªå»“ç·š
```
ä½¿ç”¨ Outline Mask è²¼åœ–
ä¸åŒå€åŸŸå¡«å……ä¸åŒé¡è‰²
```

### 3. å‹•æ…‹ç™¼å…‰
```
ä½¿ç”¨è…³æœ¬æ§åˆ¶ _EmissionStrength
Time.deltaTime é…åˆ Sin å‡½æ•¸å‰µé€ å‘¼å¸ç‡ˆæ•ˆæœ
```

### 4. é ­é«®é«˜å…‰
```
Use Anisotropic = On
Anisotropic Strength = 0.7-0.9
Specular Sharpness = 0.95
```

### 5. é‡‘å±¬è³ªæ„Ÿ
```
MatCap (é‡‘å±¬çƒ) + Multiply æ¨¡å¼
Specular Sharpness = 1.0
Rim Light å†·è‰²èª¿
```

### 6. é€æ˜ç»ç’ƒ
```
Blend Mode: SrcAlpha + OneMinusSrcAlpha
Fresnel Intensity = 1.5
å°‘é‡ Specular
```

---

## ğŸ¬ å‹•ç•«æ•ˆæœåƒæ•¸

### UV å‹•ç•«
é€šéè…³æœ¬ä¿®æ”¹:
- `_MainUVOffset` (æ»¾å‹•)
- `_MainUVRotation` (æ—‹è½‰)

### æº¶è§£å‹•ç•«
```csharp
material.SetFloat("_UseDissolve", 1);
material.SetFloat("_DissolveAmount", 0 â†’ 1);
```

### è‰²ç›¸å‹•ç•«
```csharp
material.SetFloat("_HueShift", Mathf.PingPong(Time.time * 60, 360));
```

### ç™¼å…‰è„ˆè¡
```csharp
float pulse = Mathf.Sin(Time.time * 2) * 0.5f + 0.5f;
material.SetFloat("_EmissionStrength", pulse * 3);
```

---

## ğŸ“¦ æ¨è–¦è²¼åœ–å°ºå¯¸

| è²¼åœ–é¡å‹ | é«˜å“è³ª | æ¨™æº– | ä½å“è³ª |
|---------|--------|------|--------|
| ä¸»è²¼åœ– | 2048 | 1024 | 512 |
| æ³•ç·šè²¼åœ– | 2048 | 1024 | 512 |
| MatCap | 512 | 256 | 128 |
| é®ç½©è²¼åœ– | 1024 | 512 | 256 |
| ç™¼å…‰è²¼åœ– | 1024 | 512 | 256 |

---

## ğŸŒˆ é¡è‰²èª¿è‰²æ¿å»ºè­°

### å‹•ç•«é¢¨é™°å½±è‰²
```
çš®è†š: RGB(217, 180, 160) / (0.85, 0.7, 0.63)
å¸ƒæ–™: RGB(180, 180, 190) / (0.7, 0.7, 0.75)
é‡‘å±¬: RGB(140, 150, 160) / (0.55, 0.59, 0.63)
```

### Rim Light è‰²
```
æš–å…‰: RGB(255, 240, 220) / (1.0, 0.94, 0.86)
å†·å…‰: RGB(200, 220, 255) / (0.78, 0.86, 1.0)
èƒ½é‡: RGB(100, 200, 255) / (0.39, 0.78, 1.0) HDR
```

---

## ğŸ” Debug æª¢æŸ¥æ¸…å–®

- [ ] æ¨¡å‹æœ‰æ­£ç¢ºçš„æ³•ç·š
- [ ] è²¼åœ–å°å…¥è¨­å®šæ­£ç¢º (sRGB/Linear)
- [ ] å ´æ™¯æœ‰ä¸»æ–¹å‘å…‰
- [ ] Shader ç·¨è­¯ç„¡éŒ¯èª¤
- [ ] Render Queue è¨­å®šæ­£ç¢º
- [ ] æè³ªåƒæ•¸åœ¨åˆç†ç¯„åœå…§
- [ ] è¼ªå»“ç·šå¯¬åº¦ä¸è¦éå¤§
- [ ] UV åæ¨™æ­£ç¢º (ç„¡æ‹‰ä¼¸)

---

## ğŸ“ Shader è®Šé«”èªªæ˜

ç•¶å‰ Shader æ”¯æ´çš„é—œéµå­—:
- `_ALPHATEST_ON`: Alpha æ¸¬è©¦
- `_ALPHAPREMULTIPLY_ON`: é ä¹˜ Alpha
- `_EMISSION`: ç™¼å…‰
- `_NORMALMAP`: æ³•ç·šè²¼åœ–
- `_PARALLAXMAP`: è¦–å·®è²¼åœ–
- `_DETAIL`: ç´°ç¯€è²¼åœ–

é€™äº›é—œéµå­—ç”±æè³ªå±¬æ€§è‡ªå‹•å•Ÿç”¨/ç¦ç”¨ã€‚

---

## ğŸš€ å„ªåŒ–å»ºè­°

### Batch å‹å¥½è¨­å®š
1. ç›¸åŒæè³ªçš„ç‰©é«”ä½¿ç”¨ç›¸åŒåƒæ•¸
2. åˆä½µå°ç‰©é«”çš„ç¶²æ ¼
3. ä½¿ç”¨ GPU Instancingï¼ˆéœ€è¦ shader æ”¯æ´ï¼‰
4. æ¸›å°‘ä¸åŒæè³ªæ•¸é‡

### Draw Call å„ªåŒ–
1. åˆä½µè²¼åœ–åˆ° Atlas
2. ä½¿ç”¨ Static Batching
3. LOD ç³»çµ±é…åˆä½¿ç”¨

### Fill Rate å„ªåŒ–
1. é€æ˜ç‰©é«”ä½¿ç”¨ Alpha Test è€Œé Alpha Blend
2. é™ä½éåº¦ç¹ªè£½ï¼ˆOverdrawï¼‰
3. å°ç‰©é«”ä½¿ç”¨ç°¡åŒ–ç‰ˆ Shader

---

## ğŸ“š å­¸ç¿’è³‡æº

### æ¨è–¦é–±è®€
- Unity Toon Shader æ•™ç¨‹
- NPR (Non-Photorealistic Rendering) æŠ€è¡“
- Shader Graph å…¥é–€

### åƒè€ƒé …ç›®
- Unity-Chan Toon Shader
- Guilty Gear Xrd æŠ€è¡“åˆ†äº«
- Arc System Works GDC æ¼”è¬›

---

## ğŸ†˜ æ”¯æ´

é‡åˆ°å•é¡Œæ™‚:
1. æª¢æŸ¥ Console éŒ¯èª¤è¨Šæ¯
2. ä½¿ç”¨ Frame Debugger æª¢æŸ¥æ¸²æŸ“
3. åƒè€ƒå®Œæ•´æ‰‹å†Š
4. æŸ¥çœ‹é è¨­æè³ªç¯„ä¾‹

---

**æœ€å¾Œæ›´æ–°**: 2025-11-03  
**ç‰ˆæœ¬**: 1.0
